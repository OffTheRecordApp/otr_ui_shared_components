<!DOCTYPE html>
<html lang="en" ng-app="otr-ui-shared-components">
  <head>
    <meta charset="UTF-8" />
    <title>Title</title>
    <link
      rel="stylesheet"
      href="node_modules/angucomplete-alt/angucomplete-alt.css"
    />
    <link rel="stylesheet" href="dist/otr-ui-shared-components.css" />
    <link
      rel="stylesheet"
      href="node_modules/@fortawesome/fontawesome-free/css/all.css"
    />
    <link
      rel="stylesheet"
      href="node_modules/@fortawesome/fontawesome-free/css/v4-shims.css"
    />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.2/angular.js"></script>
    <script src="node_modules/angucomplete-alt/angucomplete-alt.js"></script>

    <!-- DEV DEPENDENCIES BELOW ARE JUST FOR TESTING -->
    <script src="node_modules/@otr-app/shared-backend-generated-client/dist/otrBackendService.js"></script>
    <script src="node_modules/lodash/lodash.js"></script>
    <script src="node_modules/fuse.js/dist/fuse.js"></script>
    <script src="node_modules/pdfjs-dist/build/pdf.js"></script>
    <script src="node_modules/pdfjs-dist/build/pdf.worker.js"></script>
    <script src="dist/index.js"></script>
    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.5.0/css/all.css"
      integrity="sha384-j8y0ITrvFafF4EkV1mPW0BKm6dp3c+J9Fky22Man50Ofxo2wNe5pT1oZejDH9/Dt"
      crossorigin="anonymous"
    />
    <script>
      angular
        .module("otr-ui-shared-components")
        .config([
          "otrServiceProvider",
          function (otrServiceProvider) {
            otrServiceProvider.setDomain(
              "https://otr-backend-service-us-devo.offtherecord.com"
            );
          },
        ])
        .run([
          "$rootScope",
          function ($rootScope) {
            $rootScope.onSelect = (c) => {
              console.log("Selected item", c);
            };
            $rootScope.onChooseRating = (r) => {
              console.log("Rating chosen: ", r.rating);
            };
            $rootScope.regionCode = "WA";
            $rootScope.updateDashboardCases = (d) => {
              $rootScope.statusToFilterOn = d;
              console.log("Selected cases filter:", d);
            };
            $rootScope.userNum = "20";
            $rootScope.statusToFilterOn = "cases_pending";
          },
        ]);
    </script>
  </head>
  <body>
    <style>
      body {
        font-family: Helvetica, Arial, sans-serif;
      }
      .search-input {
        height: 30px;
        padding: 5px;
        width: 300px;
      }
      .section {
        margin-bottom: 40px;
      }
      .section__stat-cards {
        display: flex;
        gap: 10px;
      }
    </style>
    <div>
      <div class="section">
        <h3>Local Court Search</h3>
        <app-courts-dropdown
          state="regionCode"
          input-class="search-input"
          on-select-court="onSelect"
        >
        </app-courts-dropdown>
      </div>

      <div class="section">
        <h3>Remote Court Search on Demand</h3>
        <app-remote-courts-dropdown
          placeholder="Type in a court"
          input-class="search-input"
          on-select-court="onSelect"
        >
        </app-remote-courts-dropdown>
      </div>

      <div class="section">
        <h3>Local Violations Search</h3>
        <app-violations-dropdown
          region-code="regionCode"
          input-class="search-input"
          on-select="onSelect"
        >
        </app-violations-dropdown>
      </div>

      <div class="section">
        <h3>PDF Preview</h3>
        <app-pdf-image-preview path="doc.pdf"> </app-pdf-image-preview>
      </div>

      <div class="section">
        <h3>Star Rating</h3>
        <app-star-rating
          number-of-stars="4"
          on-choose-rating="onChooseRating({rating})"
        ></app-star-rating>
      </div>

      <div class="section">
        <h3>Stat Card</h3>
        <div class="section__stat-cards">
          <app-stat-card
            theme="fusion-yellow"
            color="rgb(0, 128, 0)"
            icon-class="fa fa-users"
            card-title="Pending Cases"
            on-select-show-me="updateDashboardCases('cases_pending')"
            stat-number-to-display="{{userNum}}"
            is-selected="statusToFilterOn === 'cases_pending'"></app-stat-card>
          <app-stat-card
            theme="fusion-teal"
            color="rgb(128, 0, 128)"
            icon-class="fa fa-power-off"
            card-title="Active Cases"
            on-select-show-me="updateDashboardCases('active_cases')"
            stat-number-to-display="{{userNum}}"
            is-selected="statusToFilterOn === 'active_cases'"></app-stat-card>
        </div>
      </div>
    </div>
  </body>
</html>
